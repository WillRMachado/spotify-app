{"version":3,"sources":["assets/Spotify_Icon_RGB_White.png","services/searchApi.js","pages/Home/Search.js","pages/Home/SearchResults/Album/Album.js","pages/Home/SearchResults/index.js","pages/Home/index.js","pages/SpotifyLogin/index.js","pages/AlbumDetails/PlayButton/index.js","pages/AlbumDetails/index.js","routes.js","pages/SpotifyLogin/AskForLogin/index.js","reducers/spotify-reducer.js","reducers/search-reducer.js","reducers/search-results-reducer.js","reducers/album-data-reducer.js","reducers/index.js","App.js","index.js"],"names":["module","exports","api","axios","create","baseURL","headers","Search","dispatch","useDispatch","searchText","useSelector","state","search","text","token","spotify","SearchItens","a","async","searchApi","get","params","window","localStorage","getItem","then","response","setSearchResult","setToken","catch","setTimeout","setItem","useEffect","type","addToken","data","addSearchResult","className","id","placeholder","value","onChange","event","target","addSearchText","album","img","name","artist","to","src","alt","SearchResults","searchData","searchResults","albums","items","map","request","key","Album","images","url","artists","Home","location","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","Logo","Player","duration","t_number","useState","Audio","audio","setAudio","playing","setPlaying","play","pause","addEventListener","removeEventListener","useAudio","toggle","onClick","AlbunDetails","albumData","albumCover","albumTracks","tracks","albumName","albumArtists","console","log","album_id","setAlbumData","addAlbumData","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","track_number","preview_url","duration_ms","Routes","path","exact","component","SpotifyLogin","AlbumDetails","AskForLogin","INITIAL_STATE","reducers","combineReducers","action","reducersStore","createStore","App","close","store","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fe8cfad0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Spotify_Icon_RGB_White.cc4e2784.png\";","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://api.spotify.com/v1',\r\n    headers: {\r\n        \"accept\": \"application/json\",\r\n        \"content-type\": \"application/json\",\r\n    }\r\n})\r\n\r\n\r\nexport default api;\r\n\r\n","import React, { useEffect } from 'react'\r\n// import OauthPopup from 'react-oauth-popup'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport searchApi from '../../services/searchApi'\r\n\r\n\r\nimport './search.css'\r\n\r\n\r\n\r\n// Accesing Redux Functions\r\nfunction addToken(token) {\r\n    return { type: 'ADD_TOKEN', token }\r\n}\r\nfunction addSearchText(text) {\r\n    return { type: 'TYPE', text }\r\n}\r\nfunction addSearchResult(data) {\r\n    return { type: 'SET_SEARCH', data }\r\n}\r\n\r\n\r\n\r\nfunction Search() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    // getting data from redux\r\n    const searchText = useSelector(state => state.search.text)\r\n    const token = useSelector(state => state.spotify.token)\r\n\r\n    // console.log(token)\r\n\r\n    // on render\r\n    useEffect(() => {\r\n        setToken();\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function reTrySearch() {\r\n\r\n\r\n\r\n        if (window.localStorage.getItem('spotifyToken') == \"\") {\r\n            window.localStorage.setItem('spotifyToken', \"\")\r\n        // } else if (window.localStorage.getItem('spotifyToken') == token) {\r\n        //     window.localStorage.setItem('spotifyToken', \"expired\");\r\n        }\r\n\r\n\r\n        setToken()\r\n\r\n        SearchItens()\r\n    }\r\n\r\n\r\n    async function SearchItens() {\r\n        await searchApi.get(\"/search\", {\r\n            params: {\r\n                \"q\": \"*\" + searchText + \"*\",\r\n                \"type\": \"artist,album,track\"\r\n            },\r\n            headers: {\r\n                \"authorization\": \"Bearer \" + window.localStorage.getItem('spotifyToken')\r\n            }\r\n        }).then(function (response) {\r\n            setSearchResult(response)\r\n            // console.log(token)\r\n            setToken()\r\n\r\n            // console.log(response);\r\n        }).catch(function (response) {\r\n\r\n            setTimeout(reTrySearch(), 2000)\r\n\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setToken()\r\n\r\n        SearchItens()\r\n    }, [token, searchText])\r\n\r\n\r\n    // setting data to redux\r\n    const setToken = () => {\r\n        dispatch(addToken(window.localStorage.getItem('spotifyToken')))\r\n    }\r\n    const setSearch = (text) => {\r\n        dispatch(addSearchText(text))\r\n    }\r\n    const setSearchResult = (data) => {\r\n        dispatch(addSearchResult(data))\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"searchBox\">\r\n\r\n            <h5>Busque por artistas, álbuns ou músicas</h5>\r\n            <input\r\n                className=\"searchInput\"\r\n                type=\"text\"\r\n                id=\"search\"\r\n                placeholder=\"Comece a escrever...\"\r\n                value={searchText}\r\n                onChange={event => (setSearch(event.target.value))}\r\n            />\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Search","import React from 'react'\r\nimport './album.css'\r\nimport { Link  } from 'react-router-dom'\r\n\r\n\r\nfunction album({ img, name, artist, id}) {\r\n    // let history = useHistory();\r\n\r\n    return (\r\n        <Link to={\"album/#album_id=\"+id}>\r\n        <div className=\"albumItem\" >\r\n            <img src={img} className=\"albumImage\" alt=\"album cover\" />\r\n            <h4 className=\"albumName\">{name}</h4>\r\n            <h5 className=\"albumArtistName\">{artist}</h5>\r\n        </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default album\r\n","import React from 'react'\r\nimport Album from './Album/Album.js'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport './SearchResults.css'\r\n\r\n\r\n\r\n\r\n\r\nfunction SearchResults() {\r\n\r\n\r\n\r\n    const searchData = useSelector(state => state.searchResults)\r\n    const searchText = useSelector(state => state.search.text)\r\n\r\n\r\n\r\n\r\n\r\n    // const { data: { data: { artists = {items:[]} } = [] } = [] } = searchData\r\n    const { data: { data: { albums = { items: [] } } = [] } = [] } = searchData\r\n    // const { data: { data: { tracks = \"\" } = \"\" } = \"\" } = searchData\r\n\r\n\r\n    // console.log(searchData)\r\n\r\n    // console.log(artists)\r\n    // console.log(albums)\r\n    // console.log(tracks)\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"searchWrapper\">\r\n            <h3>{searchText ? `Resultados para \"${searchText}\"`:'' }</h3>\r\n                <div className=\"searchResultBox\">\r\n                    {albums.items.map(request => (\r\n                        <div key={request.id} className=\"searchResult\">\r\n                            <Album img={request.images[1].url} name={request.name} artist={request.artists[0].name}  id={request.id}/>\r\n                        </div>\r\n                    )\r\n\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchResults\r\n","import React from 'react'\r\nimport Search from './Search.js'\r\nimport SearchResults from './SearchResults/'\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n        <>\r\n            <Search />\r\n            <SearchResults />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport Logo from '../../assets/Spotify_Icon_RGB_White.png'\r\n\r\n\r\nimport './spotifyLogin.css'\r\n\r\n// function addToken(token) {\r\n//   return { type: 'ADD_TOKEN', token }\r\n// }\r\n\r\nfunction Home() {\r\n\r\n  const hash = window.location.hash\r\n    .substring(1)\r\n    .split(\"&\")\r\n    .reduce(function (initial, item) {\r\n      if (item) {\r\n        var parts = item.split(\"=\");\r\n        initial[parts[0]] = decodeURIComponent(parts[1]);\r\n      }\r\n\r\n      window.localStorage.setItem('spotifyToken', initial.access_token);\r\n      return initial;\r\n    }, {});\r\n\r\n  return (\r\n    <>\r\n      <div className=\"loggedInWrapper\">\r\n        <h1 className=\"loggedInContent\">Você está logado, e já pode fechar esta página</h1>\r\n        <img src={Logo} className=\"spotifyLogoLogged\" alt=\"spotify logo logged\" />\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect } from \"react\";\r\nimport './playButton.css'\r\n\r\nconst useAudio = (url) => {\r\n  const [audio, setAudio] = useState(new Audio(url));\r\n  const [playing, setPlaying] = useState(false);\r\n  // console.log(audio.src)\r\n\r\n  const toggle = () => setPlaying(!playing);\r\n\r\n  useEffect(() => {\r\n    playing ? audio.play() : audio.pause();\r\n  },\r\n    [playing]\r\n  );\r\n\r\n  useEffect(() => {\r\n    audio.addEventListener('ended', () => setPlaying(false));\r\n    return () => {\r\n      audio.removeEventListener('ended', () => setPlaying(false));\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n  // const myfun = ()=>{\r\n  //   console.log(url)\r\n\r\n  // }\r\n  useEffect(() => {\r\n    setAudio(new Audio(url))\r\n\r\n    // effect\r\n    // return () => {\r\n    // cleanup\r\n    // };\r\n    // toggle = useAudio(url)\r\n    // console.log(\"will\")\r\n\r\n    // myfun()\r\n  }, [url])\r\n\r\n\r\n  return [playing, toggle];\r\n};\r\n\r\n\r\n\r\nconst Player = ({ url, name, duration, t_number }) => {\r\n  // console.log(url)\r\n  const [playing, toggle] = useAudio(url);\r\n\r\n  return (\r\n    <div onClick={toggle}>\r\n      <div className=\"trackNameContainer\">\r\n        <h5>{t_number}. </h5>\r\n        <h4 className=\"trackName\">{name}</h4>\r\n        <h5 className=\"trackDuration\">{duration}</h5>\r\n      </div>\r\n      <div className={playing ? \"trackFillPlaying\" : \"trackFillNotPlaying\"}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Player;","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Player from './PlayButton'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport searchApi from '../../services/searchApi'\r\n\r\nimport './albumDetails.css'\r\n\r\nfunction addAlbumData(data) {\r\n    return { type: 'SET_ALBUM_DATA', data }\r\n}\r\n\r\n\r\nfunction AlbunDetails() {\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const token = window.localStorage.getItem('spotifyToken')\r\n    const albumData = useSelector(state => state.albumData.data)\r\n    const albumCover = (albumData.data ? albumData.data.images[1].url : \"\")\r\n    const albumTracks = (albumData.data ? albumData.data.tracks.items : [])\r\n    const albumName = (albumData.data ? albumData.data.name : \"\")\r\n    const albumArtists = (albumData.data ? albumData.data.artists[0].name : \"\")\r\n    // const albumPreviews = (albumData.data ? albumData.data.tracks.items.preview_url : [])\r\n\r\n    console.log(albumTracks)\r\n\r\n\r\n    const hash = window.location.hash\r\n        .substring(1)\r\n        .split(\"&\")\r\n        .reduce(function (initial, item) {\r\n            if (item) {\r\n                var parts = item.split(\"=\");\r\n                initial[parts[0]] = decodeURIComponent(parts[1]);\r\n            }\r\n            return initial;\r\n        }, {});\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        async function getAlbumData() {\r\n            await searchApi.get(\"/albums/\" + hash.album_id, {\r\n                headers: {\r\n                    \"authorization\": \"Bearer \" + token\r\n                }\r\n            }).then(function (response) {\r\n                setAlbumData(response);\r\n            })\r\n        }\r\n        getAlbumData()\r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n    const setAlbumData = (data) => {\r\n        dispatch(addAlbumData(data))\r\n    }\r\n\r\n\r\n    function millisToMinutesAndSeconds(millis) {\r\n        var minutes = Math.floor(millis / 60000);\r\n        var seconds = ((millis % 60000) / 1000).toFixed(0);\r\n        return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Link to={\"/\"}>\r\n                <div className=\"returnFromAlbumDetails\"> &#60; Voltar</div>\r\n            </Link>\r\n            <div className=\"albumDetails\">\r\n                <div className=\"albumCoverDetails\">\r\n                    <img src={albumCover} className=\"albumDetailImage\" alt=\"album Detail Cover\" />\r\n                    <h3>{albumName}</h3>\r\n                    <h4>{albumArtists}</h4>\r\n                </div>\r\n                <div className=\"albumDetailTracksWrapper\" >\r\n                    {albumTracks.map(request => (\r\n                        <div key={request.track_number} >\r\n                            <Player t_number={request.track_number} url={request.preview_url} name={request.name} duration={millisToMinutesAndSeconds(request.duration_ms)}></Player>\r\n                        </div>\r\n                    )\r\n\r\n                    )}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AlbunDetails\r\n\r\n\r\n\r\n","import React from \"react\"\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\r\n\r\nimport Home from './pages/Home/'\r\nimport SpotifyLogin from './pages/SpotifyLogin/'\r\nimport AlbumDetails from './pages/AlbumDetails/'\r\n// import Login from './pages/Login'\r\n// import Dashboard from './pages/Dashboard'\r\n// import New from './pages/New'\r\n\r\nexport default function Routes (){\r\n    return(\r\n        <BrowserRouter>\r\n        <Switch>\r\n            <Route path =\"/\" exact component={Home}/>\r\n            <Route path =\"/spotify-login\" component={SpotifyLogin}/>\r\n            <Route path =\"/album\" component={AlbumDetails}/>\r\n            {/* <Route path =\"/dashboard\" component={Dashboard}/>\r\n            <Route path =\"/new\" component={New}/> */}\r\n        </Switch>\r\n        </BrowserRouter>\r\n\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport OauthPopup from 'react-oauth-popup'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport './askForLogin.css'\r\n\r\n\r\n\r\nfunction addToken(token) {\r\n    return { type: 'ADD_TOKEN', token }\r\n}\r\n\r\n\r\n\r\nfunction AskForLogin() {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const token = useSelector(state => state.spotify.token)\r\n    console.log(token)\r\n\r\n\r\n    useEffect(() => {\r\n        setToken()\r\n    }, [token])\r\n\r\n    // token=\"\" ? console.log(\"vazio\") : console.log(\"cheio\")\r\n\r\n    // if (token === \"\") {\r\n    //     console.log(\"1\")\r\n    // } else if (token === \"expired\") {\r\n    //     console.log(\"2\")\r\n    // } else {\r\n    //     console.log(\"3\")\r\n    // }\r\n\r\n\r\n\r\n\r\n    const setToken = () => {\r\n        dispatch(addToken(window.localStorage.getItem('spotifyToken')))\r\n    }\r\n\r\n\r\n    return (\r\n        <OauthPopup \r\n            url=\"https://accounts.spotify.com/authorize?client_id=0269347a0b89494a952339ac5aaf8f94&response_type=token&redirect_uri=https%3A%2F%2Fspotifywill.netlify.com%2Fspotify-login\"\r\n        >\r\n             <div className=\"oAuth\">\r\n          {(token==\"\")?\"Clique aqui para logar no Spotify\":\"\"} \r\n          {(token==\"expired\")?\"Clique aqui para logar novamente no Spotify\":\"\"} \r\n          </div>\r\n        </OauthPopup>\r\n    )\r\n}\r\n\r\nexport default AskForLogin\r\n","const INITIAL_STATE = {\r\n    // token: (window.localStorage.getItem('spotifyToken'))?(window.localStorage.getItem('spotifyToken')):\"\",\r\n    // data: \"kkkkk\"\r\n    token:''\r\n}\r\n\r\n\r\nexport default (state = INITIAL_STATE,action) =>{\r\n    switch(action.type){\r\n\r\n        case 'ADD_TOKEN': return { ...state, token: action.token };\r\n        case 'RESET': return INITIAL_STATE\r\n     \r\n        default : return state\r\n    }\r\n}","const INITIAL_STATE = {\r\n    text:'',\r\n    data:''\r\n}\r\n\r\n\r\nexport default (state = INITIAL_STATE,action) =>{\r\n    switch(action.type){\r\n\r\n        case 'TYPE': return { ...state, text: action.text };\r\n        case 'SEARCH': return { ...state, data: action.data };\r\n        case 'RESET': return INITIAL_STATE\r\n     \r\n        default : return state\r\n    }\r\n}","const INITIAL_STATE = {\r\n    data:''\r\n}\r\n\r\n\r\nexport default (state = INITIAL_STATE,action) =>{\r\n    switch(action.type){\r\n\r\n        case 'SET_SEARCH': return { ...state, data: action.data };\r\n        case 'RESET': return INITIAL_STATE\r\n     \r\n        default : return state\r\n    }\r\n}","const INITIAL_STATE = {\r\n    data:''\r\n}\r\n\r\n\r\nexport default (state = INITIAL_STATE,action) =>{\r\n    switch(action.type){\r\n\r\n        case 'SET_ALBUM_DATA': return { ...state, data: action.data };\r\n        case 'RESET': return INITIAL_STATE\r\n     \r\n        default : return state\r\n    }\r\n}","import {createStore, combineReducers} from 'redux';\r\nimport SpotifyReducer from './spotify-reducer'\r\nimport SearchReducer from './search-reducer'\r\nimport SearchResultsReducer from './search-results-reducer'\r\nimport AlbumDataReducer from './album-data-reducer'\r\n\r\n\r\nconst reducers = combineReducers({\r\n    spotify:SpotifyReducer,\r\n    search:SearchReducer,\r\n    searchResults:SearchResultsReducer,\r\n    albumData:AlbumDataReducer\r\n\r\n})\r\n\r\nconst reducersStore = createStore(reducers);\r\n\r\n\r\nexport default reducersStore","import React from 'react';\r\nimport './mainStyle.css';\r\nimport Routes from './routes';\r\nimport Logo from './assets/Spotify_Icon_RGB_White.png'\r\nimport AskForLogin from './pages/SpotifyLogin/AskForLogin'\r\n\r\nimport {Provider} from 'react-redux';\r\n\r\nimport store from './reducers';\r\n// import { createStore } from '../../../../AppData/Local/Microsoft/TypeScript/3.6/node_modules/redux';\r\n\r\n\r\n\r\n// const store2 = createStore(store)\r\nfunction App() {\r\n  window.close();\r\n  return (\r\n    <>\r\n    <Provider store = {store}>\r\n      <div className=\"app\">\r\n        <img src={Logo} className=\"spotifyLogo\" alt=\"album Detail Cover\" />\r\n        <AskForLogin />\r\n        <div className=\"contentContainer\">\r\n          <Routes />\r\n        </div>\r\n      </div>\r\n      </Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}